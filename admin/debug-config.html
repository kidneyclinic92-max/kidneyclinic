<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Config Debug</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .info-box {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .error { color: #c62828; background: #ffebee; padding: 10px; border-radius: 4px; }
    .success { color: #2e7d32; background: #e8f5e9; padding: 10px; border-radius: 4px; }
    pre { background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 4px; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>üîç Config.js Debug</h1>
  
  <div class="info-box">
    <h2>Config Loading Status</h2>
    <div id="status"></div>
  </div>

  <div class="info-box">
    <h2>Current Configuration</h2>
    <pre id="config-info"></pre>
  </div>

  <div class="info-box">
    <h2>Try Loading Config Manually</h2>
    <button onclick="loadConfig()">Load config.js</button>
    <button onclick="createConfig()">Create Config Manually</button>
    <div id="manual-result"></div>
  </div>

  <script>
    function checkConfig() {
      const statusEl = document.getElementById('status');
      const configEl = document.getElementById('config-info');
      
      // Check if config.js loaded
      const configLoaded = typeof window.__CONFIG__ !== 'undefined';
      const apiUrl = window.__CONFIG__?.API_BASE_URL;
      
      if (configLoaded && apiUrl) {
        statusEl.innerHTML = `<div class="success">‚úì config.js loaded successfully!</div>`;
        configEl.textContent = JSON.stringify({
          '__CONFIG__ exists': true,
          'API_BASE_URL': apiUrl,
          'window.__CONFIG__': window.__CONFIG__
        }, null, 2);
      } else {
        statusEl.innerHTML = `<div class="error">‚úó config.js not loaded or API_BASE_URL not set</div>`;
        configEl.textContent = JSON.stringify({
          '__CONFIG__ exists': configLoaded,
          'API_BASE_URL': apiUrl || 'NOT SET',
          'window.__CONFIG__': window.__CONFIG__ || 'NOT DEFINED',
          'Current URL': window.location.href,
          'Config.js path': '../config.js'
        }, null, 2);
      }
    }

    function loadConfig() {
      const resultEl = document.getElementById('manual-result');
      resultEl.innerHTML = '<p>Loading config.js...</p>';
      
      const script = document.createElement('script');
      script.src = '../config.js';
      script.onload = () => {
        resultEl.innerHTML = '<div class="success">‚úì Script loaded! Check status above.</div>';
        setTimeout(checkConfig, 100);
      };
      script.onerror = () => {
        resultEl.innerHTML = '<div class="error">‚úó Failed to load config.js. File might not exist or path is wrong.</div>';
      };
      document.head.appendChild(script);
    }

    function createConfig() {
      if (!window.__CONFIG__) {
        window.__CONFIG__ = {};
      }
      window.__CONFIG__.API_BASE_URL = 'https://kidney-clinic-e2f6c7fnf0cxg5dy.eastus-01.azurewebsites.net';
      document.getElementById('manual-result').innerHTML = '<div class="success">‚úì Config created manually! Check status above.</div>';
      checkConfig();
    }

    // Check on load
    window.addEventListener('load', () => {
      setTimeout(checkConfig, 500);
    });
  </script>
</body>
</html>

